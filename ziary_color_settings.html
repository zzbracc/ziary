
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ğŸ¨ è‡ªè¨‚é…è‰²</title>
  

<style>
body {
  font-family: 'Zen Maru Gothic', sans-serif;
  background-color: #fffaf5;
  padding: 20px 0;
  margin: 0;
  text-align: center;
}

h1 {
  font-family: 'Nanum Pen Script', cursive;
  font-size: 40px;
  font-weight: normal;
  margin: 24px 0 16px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
  padding: 0 12px;
  box-sizing: border-box;
}

.preview-dot {
  width: 100%;
  aspect-ratio: 1;
  border-radius: 50%;
  border: 2px solid #ccc;
  background-color: white;
  box-sizing: border-box;
}

input[type='color'] {
  width: 100%;
  aspect-ratio: 1;
  border: none;
  padding: 0;
  appearance: none;
  -webkit-appearance: none;
  box-sizing: border-box;
}
</style>
</head>
<body>
  <h1 style="font-family: 'Nanum Pen Script', cursive; font-size: 24px; text-align: center;">ğŸ¨ è‡ªè¨‚é…è‰²</h1>

  <div id="dotGrid" class="grid"></div>
  <div id="pickerGrid" class="grid"></div>

  <button onclick="saveColors()">å„²å­˜è¨­å®š</button>
  <button onclick="resetColors()">è¿”å›é è¨­å€¼</button>

  <script>
    const saved = JSON.parse(localStorage.getItem("ziary-colorMap") || "[]");
    const dotGrid = document.getElementById("dotGrid");
    const pickerGrid = document.getElementById("pickerGrid");

    const colorInputs = [];

    for (let i = 0; i < 9; i++) {
      const color = saved[i] || "#cccccc";

      // å»ºç«‹ä¸ŠåŠéƒ¨çš„åœ“åœˆ
      const dot = document.createElement("div");
      dot.className = "preview-dot";
      dot.style.backgroundColor = color;
      dot.id = "dot-" + i;
      dotGrid.appendChild(dot);

      // å»ºç«‹ä¸‹åŠéƒ¨çš„é¡è‰²é¸æ“‡å™¨
      const wrapper = document.createElement("div");
      wrapper.className = "color-picker";

      const input = document.createElement("input");
      input.type = "color";
      input.value = color;
      input.dataset.index = i;

      input.addEventListener("input", () => {
        document.getElementById("dot-" + i).style.backgroundColor = input.value;
      });

      wrapper.appendChild(input);
      pickerGrid.appendChild(wrapper);
      colorInputs.push(input);
    }

    function saveColors() {
      const colors = colorInputs.map(i => i.value);
      localStorage.setItem("ziary-colorMap", JSON.stringify(colors));
      alert("å·²å„²å­˜è¨­å®šï¼");
    }
  
const defaultColors = ['#CC5F5A', '#ff9933', '#FFD700', '#B5866C', '#BED06F', '#769EDB', '#30BEBF', '#d3d3d3', '#000000'];

function resetColors() {
  colorInputs.forEach((input, i) => {
    input.value = defaultColors[i];
    document.getElementById("dot-" + i).style.backgroundColor = defaultColors[i];
  });
}

</script>
</body>
</html>
